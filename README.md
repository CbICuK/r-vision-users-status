# R-Vision users status

Отображение активных статусов пользователей системы.
Данные собираются с веб-сервера. Лог содержит только ip-адреса польщователей 

Сервисы:

## 1. Log reader

Считывает лог веб-сервера в реальном времени. Формат лога задается через регулярное выражение в файле config.py

```python
LOG_PARSER_REGEX=r'(::ffff:|)(?P<ip>\d+\.\d+\.\d+\.\d+)\s-\s-\s\[(?P<time>[^\]]+)\]\s"(?P<method>.*?)\s(?P<path>.*?)\s(?P<protocol>.*?)"\s(?P<status>\d+)\s(?P<size>\d+)\s"(?P<referer>.*?)"\s"(?P<user_agent>.*?)"'
```
## 2. Status page

Веб страница для отображения статусов. 
Переход статусов по цветам зеленый -> оранжевый -> серый.
От зеленого к оранжевому за 1 час.
От оранжевого к серому за 23 часа.
Пользователи хранятся в базе 24 часа.

## 3. Redis

База для хранения актуальной информации.